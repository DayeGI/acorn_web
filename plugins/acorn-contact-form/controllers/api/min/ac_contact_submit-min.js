function ContactSubmit(){}util.inherits(ContactSubmit,pb.BaseController),ContactSubmit.prototype.render=function(t){var e=this;this.getJSONPostParams(function(o,n){var r=e.hasRequiredParams(n,["name","email"]);if(r)return void t({code:400,content:pb.BaseController.apiResponse(pb.BaseController.API_ERROR,r)});var a=new pb.CustomObjectService;a.loadTypeByName("contact-requests",function(o,r){if(util.isError(o)||!pb.utils.isObject(r))return void t({code:400,content:pb.BaseController.apiResponse(pb.BaseController.API_ERROR,e.ls.get("INVALID_UID"))});var i={name:n.name+" ("+pb.utils.uniqueId().toString()+")",phone:n.phone,email:n.email,company:n.company,description:n.email,comment:n.comment,date:new Date};pb.CustomObjectService.formatRawForType(i,r);var s=pb.DocumentCreator.create("custom_object",i);a.save(s,r,function(o,n){return util.isError(o)?void t({code:500,content:pb.BaseController.apiResponse(pb.BaseController.API_ERROR,e.ls.get("ERROR_SAVING"))}):util.isArray(n)&&n.length>0?void t({code:500,content:pb.BaseController.apiResponse(pb.BaseController.API_ERROR,e.ls.get("ERROR_SAVING"))}):void t({content:pb.BaseController.apiResponse(pb.BaseController.API_SUCCESS,"contact submitted")})})})})},ContactSubmit.getRoutes=function(t){var e=[{method:"post",path:"/api/contact/ac_contact_submit",auth_required:!1,content_type:"application/json"}];t(null,e)},module.exports=ContactSubmit;